@tailwind base;
@tailwind components;
@tailwind utilities;

/* Google Fonts Import */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap');

/* Custom CSS */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Playfair Display', serif;
  }

  body {
    @apply bg-gray-50 text-gray-900;
  }

  /* Scrollbar estético */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary-300 rounded-full hover:bg-primary-500 transition-colors;
  }
}

/* ============================================
   ESTILOS DE ACCESIBILIDAD
   ============================================ */

/* Alto contraste */
html.high-contrast {
  filter: contrast(1.5);
}

html.high-contrast body {
  background-color: #000000 !important;
  color: #ffffff !important;
}

html.high-contrast .bg-white {
  background-color: #1a1a1a !important;
}

html.high-contrast .bg-gray-50 {
  background-color: #0d0d0d !important;
}

html.high-contrast .text-gray-600,
html.high-contrast .text-gray-700,
html.high-contrast .text-gray-800,
html.high-contrast .text-gray-900 {
  color: #ffffff !important;
}

html.high-contrast button,
html.high-contrast a {
  border: 2px solid #ffffff !important;
}

/* Escala de grises */
html.grayscale {
  filter: grayscale(100%);
}

html.grayscale * {
  filter: grayscale(100%);
}

/* Subrayar enlaces */
html.underline-links a {
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 3px !important;
}

html.underline-links button[role="link"] {
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 3px !important;
}

/* Reducir movimiento */
html.reduced-motion *,
html.reduced-motion *::before,
html.reduced-motion *::after {
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.001ms !important;
}

/* ============================================
   FIN ESTILOS DE ACCESIBILIDAD
   ============================================ */

/* ============================================
   ESTILOS PARA TOUR GUIADO (DRIVER.JS)
   ============================================ */

.driverjs-theme-custom .driver-popover {
  background-color: #ffffff;
  color: #1f2937;
  border-radius: 12px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  border: 2px solid #3b82f6;
  max-width: 400px;
}

.driverjs-theme-custom .driver-popover-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #dbeafe;
}

.driverjs-theme-custom .driver-popover-description {
  font-size: 0.975rem;
  line-height: 1.6;
  color: #4b5563;
  margin-bottom: 1rem;
}

.driverjs-theme-custom .driver-popover-navigation-btns {
  gap: 0.5rem;
  justify-content: flex-end;
}

.driverjs-theme-custom .driver-popover-next-btn,
.driverjs-theme-custom .driver-popover-prev-btn {
  background-color: #3b82f6;
  color: #ffffff;
  border: none;
  padding: 0.5rem 1.25rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

.driverjs-theme-custom .driver-popover-next-btn:hover {
  background-color: #2563eb;
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.driverjs-theme-custom .driver-popover-prev-btn {
  background-color: #6b7280;
}

.driverjs-theme-custom .driver-popover-prev-btn:hover {
  background-color: #4b5563;
  transform: translateY(-1px);
}

.driverjs-theme-custom .driver-popover-close-btn {
  color: #6b7280;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s;
}

.driverjs-theme-custom .driver-popover-close-btn:hover {
  color: #1f2937;
  background-color: #f3f4f6;
}

.driverjs-theme-custom .driver-popover-progress-text {
  font-size: 0.75rem;
  color: #3b82f6;
  font-weight: 600;
  background-color: #dbeafe;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  margin-right: auto;
}

.driver-overlay {
  background: rgba(0, 0, 0, 0.5) !important;
  z-index: 9997 !important;
  pointer-events: auto !important;
}

.driver-popover {
  z-index: 10000 !important;
}

/* CRÍTICO: Resetear TODOS los estilos de driver.js que afectan la apariencia */
.driver-active-element,
.driver-active-element *,
.driver-active-element *::before,
.driver-active-element *::after,
.driver-highlighted-element,
.driver-highlighted-element *,
.driver-highlighted-element *::before,
.driver-highlighted-element *::after {
  opacity: 1 !important;
  filter: none !important;
  -webkit-filter: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  visibility: visible !important;
  pointer-events: auto !important;
  mix-blend-mode: normal !important;
}

/* El contenedor principal con el efecto de recorte */
.driver-active-element,
.driver-highlighted-element {
  position: relative !important;
  z-index: 9998 !important;
  box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.5) !important;
  isolation: isolate !important;
}

/* Forzar que todos los backgrounds, borders y colores se mantengan */
.driver-active-element *[class*="bg-"],
.driver-highlighted-element *[class*="bg-"],
.driver-active-element *[class*="border-"],
.driver-highlighted-element *[class*="border-"],
.driver-active-element *[class*="text-"],
.driver-highlighted-element *[class*="text-"] {
  opacity: 1 !important;
  filter: none !important;
}

/* Específicamente para elementos con estilos inline o clases de Tailwind */
.driver-active-element .bg-blue-50,
.driver-highlighted-element .bg-blue-50 {
  background-color: rgb(239 246 255) !important;
}

.driver-active-element .bg-gray-50,
.driver-highlighted-element .bg-gray-50 {
  background-color: rgb(249 250 251) !important;
}

.driver-active-element .bg-yellow-100,
.driver-highlighted-element .bg-yellow-100 {
  background-color: rgb(254 249 195) !important;
}

.driver-active-element .bg-blue-100,
.driver-highlighted-element .bg-blue-100 {
  background-color: rgb(219 234 254) !important;
}

.driver-active-element .bg-purple-100,
.driver-highlighted-element .bg-purple-100 {
  background-color: rgb(243 232 255) !important;
}

.driver-active-element .bg-green-100,
.driver-highlighted-element .bg-green-100 {
  background-color: rgb(220 252 231) !important;
}

.driver-active-element .border-gray-200,
.driver-highlighted-element .border-gray-200 {
  border-color: rgb(229 231 235) !important;
}

.driver-active-element .border-blue-500,
.driver-highlighted-element .border-blue-500 {
  border-color: rgb(59 130 246) !important;
}

.driver-active-element .text-gray-500,
.driver-highlighted-element .text-gray-500 {
  color: rgb(107 114 128) !important;
}

.driver-active-element .text-gray-600,
.driver-highlighted-element .text-gray-600 {
  color: rgb(75 85 99) !important;
}

.driver-active-element .text-gray-700,
.driver-highlighted-element .text-gray-700 {
  color: rgb(55 65 81) !important;
}

.driver-active-element .text-gray-900,
.driver-highlighted-element .text-gray-900 {
  color: rgb(17 24 39) !important;
}

/* Animación de pulso para elementos destacados */
@keyframes driver-pulse {

  0%,
  100% {
    box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.5);
  }

  50% {
    box-shadow: 0 0 0 5000px rgba(0, 0, 0, 0.5);
  }
}

/* ============================================
   FIN ESTILOS TOUR GUIADO
   ============================================ */

@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-secondary-600 hover:bg-secondary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2;
  }

  .btn-outline {
    @apply border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .btn-danger {
    @apply bg-danger-600 hover:bg-danger-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-danger-500 focus:ring-offset-2;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6;
  }

  .input-field {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  .error-text {
    @apply text-sm text-danger-600 mt-1;
  }

  .success-text {
    @apply text-sm text-success-600 mt-1;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-success-100 text-success-800;
  }

  .badge-warning {
    @apply badge bg-warning-100 text-warning-800;
  }

  .badge-danger {
    @apply badge bg-danger-100 text-danger-800;
  }

  .badge-info {
    @apply badge bg-blue-100 text-blue-800;
  }

  .table-container {
    @apply overflow-x-auto shadow ring-1 ring-black ring-opacity-5 rounded-lg;
  }

  .table {
    @apply min-w-full divide-y divide-gray-300;
  }

  .table-header {
    @apply bg-gray-50;
  }

  .table-header-cell {
    @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
  }

  .table-row {
    @apply bg-white;
  }

  .table-row:nth-child(even) {
    @apply bg-gray-50;
  }

  .table-cell {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }

  .sidebar-nav {
    @apply space-y-1;
  }

  .sidebar-nav-item {
    @apply text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors duration-200;
  }

  .sidebar-nav-item.active {
    @apply bg-primary-50 text-primary-700 border-r-2 border-primary-700;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity;
  }

  .modal-content {
    @apply bg-white rounded-lg shadow-xl transform transition-all sm:max-w-lg sm:w-full;
  }

  .loading-spinner {
    @apply animate-spin h-5 w-5 border-2 border-primary-600 border-t-transparent rounded-full;
  }
}

/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #a1a1a1;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  .print-break {
    page-break-before: always;
  }
}

/* Animation utilities */
.fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

.slide-in {
  animation: slideIn 0.3s ease-out;
}

/* Chart container */
.chart-container {
  position: relative;
  height: 400px;
  width: 100%;
}

/* File upload area */
.file-upload-area {
  @apply border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors duration-200 cursor-pointer;
}

.file-upload-area.dragover {
  @apply border-primary-500 bg-primary-50;
}

/* Notification styles */
.notification-item {
  @apply p-4 border-l-4 rounded-r-md;
}

.notification-item.unread {
  @apply border-l-primary-500 bg-primary-50;
}

.notification-item.read {
  @apply border-l-gray-300 bg-gray-50;
}

/* Responsive utilities */
@media (max-width: 640px) {
  .mobile-hidden {
    display: none;
  }
}

@media (min-width: 641px) {
  .mobile-only {
    display: none;
  }
}